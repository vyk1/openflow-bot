<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Simples com Botões</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
        #chatbot-container {
            border: 1px solid #ccc;
            width: 400px;
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin: 20px auto;
            background-color: #f9f9f9;
        }
        .chat-log { flex-grow: 1; overflow-y: auto; border: 1px solid #ccc; padding: 10px; max-height: 300px; }
        .chat-buttons { margin-top: 10px; }
        .chat-button { padding: 10px 20px; margin: 5px; cursor: pointer; }
        .message { margin: 5px 0; }
    </style>
</head>
<body>

    <!-- Container do Chatbot -->
    <div id="chatbot-container">
        <div class="chat-log" id="chat-log"></div>
        <div class="chat-buttons" id="chat-buttons"></div>
    </div>

    <script>
        // Configuração do chatbot e funcionalidades
        const chatbotConfig = {
            "saudacao": {
                "speech": [
                    {
                        "type": "info",
                        "title": "Olá! Eu sou a DRICA, assistente da DIC para prevenir e tirar dúvidas sobre violência no trabalho no setor",
                        "subtitle": "Meu objetivo é ajudar você a entender melhor o que é violência no trabalho e como preveni-la. Vamos começar?"
                    }
                ],
                "content": [
                    {
                        "options": [
                            {
                                "text": "Sei o que é um bot",
                                "followUp": "sei-bot"
                            },
                            {
                                "text": "Não sei o que é um bot",
                                "followUp": "nao-sei-bot"
                            }
                        ]
                    }
                ]
            },
            "nao-sei-bot": {
                "speech": [
                    "Um bot é um programa de computador que simula ações humanas repetidas vezes de maneira padrão. Clique em \"Continuar\""
                ],
                "content": [
                    {
                        "options": [
                            {
                                "text": "Continuar",
                                "followUp": "violencia-trabalho"
                            }
                        ]
                    }
                ]
            }
        };

        // Exibir a primeira mensagem
        function showInitialMessage() {
            const chatLog = document.getElementById('chat-log');
            const message = chatbotConfig.saudacao.speech[0].title + "<br>" + chatbotConfig.saudacao.speech[0].subtitle;
            addMessage('Chatbot: ' + message);
            displayOptions(chatbotConfig.saudacao.content[0].options);
        }

        // Exibir opções como botões
        function displayOptions(options) {
            const buttonsContainer = document.getElementById('chat-buttons');
            buttonsContainer.innerHTML = ''; // Limpar botões anteriores

            options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'chat-button';
                button.textContent = option.text;
                button.onclick = () => handleUserChoice(option.followUp);
                buttonsContainer.appendChild(button);
            });
        }

        // Lidar com escolha do usuário
        function handleUserChoice(followUpKey) {
            const followUp = chatbotConfig[followUpKey];
            const chatLog = document.getElementById('chat-log');

            // Mostrar a resposta do chatbot
            followUp.speech.forEach(msg => {
                addMessage('Chatbot: ' + msg);
            });

            // Se houver mais opções, exibi-las
            if (followUp.content && followUp.content[0].options) {
                displayOptions(followUp.content[0].options);
            } else {
                document.getElementById('chat-buttons').innerHTML = '';
            }
        }

        // Função para adicionar mensagem ao log
        function addMessage(message) {
            const chatLog = document.getElementById('chat-log');
            const messageElement = document.createElement('div');
            messageElement.className = 'message';
            messageElement.innerHTML = message;
            chatLog.appendChild(messageElement);
            chatLog.scrollTop = chatLog.scrollHeight;
        }

        // Iniciar o chatbot com a saudação
        showInitialMessage();
    </script>

</body>
</html>
